(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38888637"],{a21f:function(t,e,s){var a=s("584a"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},ac6a:function(t,e,s){for(var a=s("cadf"),n=s("0d58"),i=s("2aba"),r=s("7726"),c=s("32e9"),o=s("84f2"),l=s("2b4c"),u=l("iterator"),d=l("toStringTag"),f=o.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(h),m=0;m<g.length;m++){var p,v=g[m],y=h[v],L=r[v],S=L&&L.prototype;if(S&&(S[u]||c(S,u,f),S[d]||c(S,d,v),o[v]=f,y))for(p in a)S[p]||i(S,p,a[p],!0)}},c694:function(t,e,s){},e6b0:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",[s("v-flex",[s("h4",{staticClass:"text-xs-center display-1 red--text text--darken-3 pt-3 font-weight-thin"},[t._v(t._s(this.$store.state.auth.name))])])],1),s("v-layout",{staticClass:"mt-3"},[s("v-flex",[s("v-card",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0},expression:"{always:false, smooth:true}"}],staticClass:"py-3",attrs:{height:"400"}},t._l(t.messages,function(e,a){return s("ul",{key:a},[s("li",{staticClass:"red--text text--darken-3 subheading mb-1"},[t._v("\n            "+t._s(e.name)+"\n            "),s("span",{staticClass:"body-1 font-weight-light grey--text text--darken-2 ml-3"},[t._v(t._s(e.message))])]),s("li",{staticClass:"subheading dark--text caption font-weight-thin mb-1"},[t._v(t._s(e.createdAt))]),s("v-divider",{staticClass:"py-2"})],1)}),0)],1)],1),s("v-form",{on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[s("v-flex",[s("v-card",{staticClass:"py-2"},[s("v-layout",{attrs:{"align-center":""}},[s("v-text-field",{staticClass:"mx-5 font-weight-light body-2",attrs:{placeholder:"message",color:"red darken-3","prepend-inner-icon":"send"},model:{value:t.message,callback:function(e){t.message="string"===typeof e?e.trim():e},expression:"message"}}),s("v-btn",{attrs:{color:"red darken-3",flat:""},on:{click:t.send}},[t._v("Wyślij")])],1),s("v-layout",{attrs:{"justify-center":""}},[t.feedback?s("p",{staticClass:"red--text text--accent-3 font-weight-light subheading"},[t._v("Wiadomość nie może być pusta")]):t._e()])],1)],1)],1)],1)},n=[],i=(s("ac6a"),s("96cf"),s("3b8d")),r=s("f499"),c=s.n(r),o=s("eec8"),l={name:"Chat",data:function(){return{messages:[],message:"",token:localStorage.getItem("token"),ws:null,feedback:!1}},methods:{send:function(){this.ws.send(c()({message:this.message})),this.message=""}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,s,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["a"])("/chat/history",{headers:{Authorization:"Basic ".concat(this.token)}});case 3:e=t.sent,s=e.data,a=this,s.messages.forEach(function(t){var e=new Date(t.createdAt);t.createdAt=e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()),a.messages.push(t)}),this.ws=new WebSocket("ws://localhost:8000/api/chat/live?token="+this.token),this.ws.addEventListener("message",function(t){var e=t.data,s=JSON.parse(e),a=new Date(s.createdAt);s.createdAt=a.getHours()+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()),n.messages.push(s)}),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}()},u=l,d=(s("f805"),s("2877")),f=Object(d["a"])(u,a,n,!1,null,"6815141a",null);e["default"]=f.exports},f499:function(t,e,s){t.exports=s("a21f")},f805:function(t,e,s){"use strict";var a=s("c694"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-38888637.790526f2.js.map